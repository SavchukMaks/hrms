var WelcomeMessageManager={create:function(e){e.preventDefault(),$("#create-welcome-message").show(),$("main").css("filter","blur(5px)"),$("#sidebar").css("filter","blur(5px)"),$(".close-popup").on("click",function(){$("#create-welcome-message").hide(),$("main").css("filter","blur(0)"),$("#sidebar").css("filter","blur(0)")}),$(".save-btn").on("click",function(){var e=$("#name-message").val(),a=$("#type-vacancy").val(),t=$("#content-message").val();$.ajax({type:"POST",url:"/vacancy/welcome-messages/save",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:{name:e,type:a,description:t},success:function(e){location.reload()}})})},sendCandidates:function(e){e.preventDefault(),$("#send-welcome-message").css("display","block"),$("main").css("filter","blur(5px)"),$("#sidebar").css("filter","blur(5px)"),$(".close-popup").on("click",function(){$("#send-welcome-message").hide(),$("main").css("filter","blur(0)"),$("#sidebar").css("filter","blur(0)")})},WelcomeMessage:function(e){e.preventDefault(),e.stopPropagation();var a=$(e.target).siblings(".sure-delete"),t=a.find("p");a.css("display","block");var s=$(e.target).attr("data-id");t.first().click(function(){var e=$(this).closest(".message-item");$.ajax({type:"POST",url:"/vacancy/welcome-messages",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:{welcomeMessage:s},success:function(a){e.remove()}})}),t.last().click(function(){$(".sure-delete").css("display","none")})},popup:function(){var e=!0;$(".select-all").find("label").on("click",function(){if(1==e){if($(".update").hasClass("update-btn")){var a=$(".update").find('input[type="checkbox"]');return e=!e,a.attr("checked",!0)}var a=$(".popup-candidate-list").find('input[type="checkbox"]');return e=!e,a.attr("checked",!0)}if($(".update").hasClass("update-btn")){var a=$(".update").find('input[type="checkbox"]');return e=!e,a.attr("checked",!1)}var a=$(".popup-candidate-list").find('input[type="checkbox"]');return e=!e,a.attr("checked",!1)})},search:function(){$(".search-btn").on("click",function(){var e=$(".search").val();$.ajax({type:"POST",url:"/vacancy/welcome-messages/search",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:{data:e},success:function(e){$(".update-btn").empty();var a="";e.candidates.forEach(function(e){$(".popup-candidate-list").remove(),$(".update").addClass("update-btn"),a+='<li> <div class="popup-candidate-item"> <input type="checkbox" id='+e.last_name+"> <label for="+e.last_name+'> <span></span> <img src="/img/face.jpg" alt="Candidate names"> <div class="popup-candidate-info"> <p>'+e.first_name+" "+e.last_name+"</p></div></label></div></li>"}),$(".update ul").append(a)}})})},clicks:function(){$(".popup-candidate-item").find("label").on("click",function(){var e=$(this).siblings("input");e.attr("checked",e.is(":checked"))})},init:function(){$("#create-new-message").on("click",this.create),$(".send-btn").on("click",this.sendCandidate),$(".delete-btn").on("click",this.WelcomeMessages),$(function(){var e=$("#sortCandidate").select2({tags:!0,placeholder:"Types vacancy"});e.data("select2").$container.addClass("sort_candidate"),e.data("select2").$dropdown.addClass("sort_candidate--open")})},WelcomeMessages:function(e){WelcomeMessageManager.WelcomeMessage(e)},sendCandidate:function(e){WelcomeMessageManager.sendCandidates(e),WelcomeMessageManager.popup(),WelcomeMessageManager.clicks(),WelcomeMessageManager.search()}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIldlbGNvbWVNZXNzYWdlTWFuYWdlci5qcyJdLCJuYW1lcyI6WyJXZWxjb21lTWVzc2FnZU1hbmFnZXIiLCJjcmVhdGUiLCJlIiwicHJldmVudERlZmF1bHQiLCIkIiwic2hvdyIsImNzcyIsIm9uIiwiaGlkZSIsIm5hbWUiLCJ2YWwiLCJ0eXBlIiwiY29udGVudCIsImFqYXgiLCJ1cmwiLCJoZWFkZXJzIiwiWC1DU1JGLVRPS0VOIiwiYXR0ciIsImRhdGEiLCJkZXNjcmlwdGlvbiIsInN1Y2Nlc3MiLCJsb2NhdGlvbiIsInJlbG9hZCIsInNlbmRDYW5kaWRhdGVzIiwiV2VsY29tZU1lc3NhZ2UiLCJzdG9wUHJvcGFnYXRpb24iLCJzdXJlQmxvY2siLCJ0YXJnZXQiLCJzaWJsaW5ncyIsInllc0J1dHRvbiIsImZpbmQiLCJNZXNzYWdlIiwiZmlyc3QiLCJjbGljayIsInBhcmVudEJsb2NrIiwidGhpcyIsImNsb3Nlc3QiLCJ3ZWxjb21lTWVzc2FnZSIsInJlbW92ZSIsImxhc3QiLCJwb3B1cCIsImZsYWciLCJoYXNDbGFzcyIsImEiLCJzZWFyY2giLCJyZXN1bHQiLCJlbXB0eSIsImFzIiwiY2FuZGlkYXRlcyIsImZvckVhY2giLCJpdGVtIiwiYWRkQ2xhc3MiLCJsYXN0X25hbWUiLCJmaXJzdF9uYW1lIiwiYXBwZW5kIiwiY2xpY2tzIiwiY2hlY2siLCJpcyIsImluaXQiLCJzZW5kQ2FuZGlkYXRlIiwiV2VsY29tZU1lc3NhZ2VzIiwic2VsZWN0MiIsInRhZ3MiLCJwbGFjZWhvbGRlciIsIiRjb250YWluZXIiLCIkZHJvcGRvd24iLCJldmVudCJdLCJtYXBwaW5ncyI6IkFBQ0EsR0FBSUEsd0JBRUFDLE9BQVEsU0FBU0MsR0FHYkEsRUFBRUMsaUJBQ0ZDLEVBQUUsMkJBQTJCQyxPQUM3QkQsRUFBRSxRQUFRRSxJQUFJLFNBQVUsYUFDeEJGLEVBQUUsWUFBWUUsSUFBSSxTQUFVLGFBRTVCRixFQUFFLGdCQUFnQkcsR0FBRyxRQUFRLFdBRXpCSCxFQUFFLDJC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QUFLRyxXQUFXLElBQUlILEVBQUtFLFVBQVcsa0NBT3hFaEQsRUFBRSxjQUFja0QsT0FBT1AsU0FNckNRLE9BQVEsV0FFT25ELEVBQUUseUJBQXlCMEIsS0FBSyxTQUV0Q3ZCLEdBQUcsUUFBUSxXQUVaLEdBQUlpRCxHQUFRcEQsRUFBRStCLE1BQU1QLFNBQVMsUUFDN0I0QixHQUFNdkMsS0FBSyxVQUFVdUMsRUFBTUMsR0FBRyxnQkFJdENDLEtBQU0sV0FFRnRELEVBQUUsdUJBQXVCRyxHQUFHLFFBQVM0QixLQUFLbEMsUUFDMUNHLEVBQUUsYUFBYUcsR0FBRyxRQUFRNEIsS0FBS3dCLGVBQy9CdkQsRUFBRSxlQUFlRyxHQUFHLFFBQVM0QixLQUFLeUIsaUJBRWxDeEQsRUFBRyxXQUNDLEdBQUl5RCxHQUFVekQsRUFBRSxrQkFBa0J5RCxTQUM5QkMsTUFBTSxFQUNOQyxZQUFhLGlCQUVqQkYsR0FBUTNDLEtBQUssV0FBVzhDLFdBQVdiLFNBQVMsa0JBQzVDVSxFQUFRM0MsS0FBSyxXQUFXK0MsVUFBVWQsU0FBUywyQkFLbkRTLGdCQUFpQixTQUFVTSxHQUV2QmxFLHNCQUFzQndCLGVBQWUwQyxJQUd6Q1AsY0FBZSxTQUFTTyxHQUVwQmxFLHNCQUFzQnVCLGVBQWUyQyxHQUNyQ2xFLHNCQUFzQndDLFFBQ3RCeEMsc0JBQXNCdUQsU0FDdEJ2RCxzQkFBc0I0QyIsImZpbGUiOiJXZWxjb21lTWVzc2FnZU1hbmFnZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbnZhciBXZWxjb21lTWVzc2FnZU1hbmFnZXIgPSB7XG5cbiAgICBjcmVhdGU6IGZ1bmN0aW9uKGUpXG4gICAge1xuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJChcIiNjcmVhdGUtd2VsY29tZS1tZXNzYWdlXCIpLnNob3coKTtcbiAgICAgICAgJCgnbWFpbicpLmNzcygnZmlsdGVyJywgJ2JsdXIoNXB4KScpO1xuICAgICAgICAkKCcjc2lkZWJhcicpLmNzcygnZmlsdGVyJywgJ2JsdXIoNXB4KScpO1xuXG4gICAgICAgICQoXCIuY2xvc2UtcG9wdXBcIikub24oJ2NsaWNrJyxmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAkKFwiI2NyZWF0ZS13ZWxjb21lLW1lc3NhZ2VcIikuaGlkZSgpO1xuICAgICAgICAgICAgJCgnbWFpbicpLmNzcygnZmlsdGVyJywgJ2JsdXIoMCknKTtcbiAgICAgICAgICAgICQoJyNzaWRlYmFyJykuY3NzKCdmaWx0ZXInLCAnYmx1cigwKScpO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoXCIuc2F2ZS1idG5cIikub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBuYW1lID0gJChcIiNuYW1lLW1lc3NhZ2VcIikudmFsKCk7XG4gICAgICAgICAgICB2YXIgdHlwZSA9ICQoXCIjdHlwZS12YWNhbmN5XCIpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSAkKFwiI2NvbnRlbnQtbWVzc2FnZVwiKS52YWwoKTtcblxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICB1cmw6IFwiL3ZhY2FuY3kvd2VsY29tZS1tZXNzYWdlcy9zYXZlXCIsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnWC1DU1JGLVRPS0VOJzogJCgnbWV0YVtuYW1lPVwiY3NyZi10b2tlblwiXScpLmF0dHIoJ2NvbnRlbnQnKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAnbmFtZSc6bmFtZSxcbiAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICdkZXNjcmlwdGlvbic6Y29udGVudFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBzZW5kQ2FuZGlkYXRlczogZnVuY3Rpb24oZSlcbiAgICB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJChcIiNzZW5kLXdlbGNvbWUtbWVzc2FnZVwiKS5jc3MoJ2Rpc3BsYXknLCdibG9jaycpO1xuICAgICAgICAkKCdtYWluJykuY3NzKCdmaWx0ZXInLCAnYmx1cig1cHgpJyk7XG4gICAgICAgICQoJyNzaWRlYmFyJykuY3NzKCdmaWx0ZXInLCAnYmx1cig1cHgpJyk7XG5cbiAgICAgICAgJChcIi5jbG9zZS1wb3B1cFwiKS5vbignY2xpY2snLGZ1bmN0aW9uKCl7XG4gICAgICAgICQoXCIjc2VuZC13ZWxjb21lLW1lc3NhZ2VcIikuaGlkZSgpO1xuICAgICAgICAkKCdtYWluJykuY3NzKCdmaWx0ZXInLCAnYmx1cigwKScpO1xuICAgICAgICAkKCcjc2lkZWJhcicpLmNzcygnZmlsdGVyJywgJ2JsdXIoMCknKTtcblxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgV2VsY29tZU1lc3NhZ2U6IGZ1bmN0aW9uKGUpXG4gICAge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgdmFyIHN1cmVCbG9jayA9ICQoZS50YXJnZXQpLnNpYmxpbmdzKCcuc3VyZS1kZWxldGUnKTtcbiAgICAgICAgdmFyIHllc0J1dHRvbiA9IHN1cmVCbG9jay5maW5kKCdwJyk7XG5cbiAgICAgICAgc3VyZUJsb2NrLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuICAgICAgICB2YXIgTWVzc2FnZSA9ICQoZS50YXJnZXQpLmF0dHIoJ2RhdGEtaWQnKTtcblxuICAgICAgICB5ZXNCdXR0b24uZmlyc3QoKS5jbGljayhmdW5jdGlvbiAoKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcGFyZW50QmxvY2sgPSAkKHRoaXMpLmNsb3Nlc3QoJy5tZXNzYWdlLWl0ZW0nKTtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgdXJsOiBcIi92YWNhbmN5L3dlbGNvbWUtbWVzc2FnZXNcIixcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdYLUNTUkYtVE9LRU4nOiAkKCdtZXRhW25hbWU9XCJjc3JmLXRva2VuXCJdJykuYXR0cignY29udGVudCcpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICd3ZWxjb21lTWVzc2FnZSc6TWVzc2FnZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnRCbG9jay5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgeWVzQnV0dG9uLmxhc3QoKS5jbGljayhmdW5jdGlvbiAoKVxuICAgICAgICB7XG4gICAgICAgICAgICAkKFwiLnN1cmUtZGVsZXRlXCIpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgIH0pO1xuXG4gICAgfSxcblxuICAgIHBvcHVwOiBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB2YXIgZmxhZz10cnVlO1xuICAgICAgICB2YXIgaXRlbSA9ICQoJy5zZWxlY3QtYWxsJykuZmluZChcImxhYmVsXCIpO1xuICAgICAgICBpdGVtLm9uKFwiY2xpY2tcIixmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmKGZsYWc9PXRydWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYoJChcIi51cGRhdGVcIikuaGFzQ2xhc3MoXCJ1cGRhdGUtYnRuXCIpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSAkKFwiLnVwZGF0ZVwiKS5maW5kKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcbiAgICAgICAgICAgICAgICAgICAgZmxhZz0hZmxhZztcbiAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5hdHRyKCdjaGVja2VkJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBhID0gJChcIi5wb3B1cC1jYW5kaWRhdGUtbGlzdFwiKS5maW5kKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcbiAgICAgICAgICAgICAgICBmbGFnPSFmbGFnO1xuXG4gICAgICAgICAgICAgICByZXR1cm4gYS5hdHRyKCdjaGVja2VkJywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYoJChcIi51cGRhdGVcIikuaGFzQ2xhc3MoXCJ1cGRhdGUtYnRuXCIpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSAkKFwiLnVwZGF0ZVwiKS5maW5kKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcbiAgICAgICAgICAgICAgICAgICAgZmxhZz0hZmxhZztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICBhLmF0dHIoJ2NoZWNrZWQnLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgYSA9ICQoXCIucG9wdXAtY2FuZGlkYXRlLWxpc3RcIikuZmluZCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XG4gICAgICAgICAgICAgICAgZmxhZz0hZmxhZztcbiAgICAgICAgICAgICAgICByZXR1cm4gYS5hdHRyKCdjaGVja2VkJywgZmFsc2UpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBzZWFyY2g6IGZ1bmN0aW9uKClcbiAgICB7XG5cbiAgICAgICQoXCIuc2VhcmNoLWJ0blwiKS5vbihcImNsaWNrXCIsZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSAkKFwiLnNlYXJjaFwiKS52YWwoKTtcbiAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgdXJsOiBcIi92YWNhbmN5L3dlbGNvbWUtbWVzc2FnZXMvc2VhcmNoXCIsXG4gICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICdYLUNTUkYtVE9LRU4nOiAkKCdtZXRhW25hbWU9XCJjc3JmLXRva2VuXCJdJykuYXR0cignY29udGVudCcpXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICdkYXRhJzogZGF0YVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAkKFwiLnVwZGF0ZS1idG5cIikuZW1wdHkoKTtcbiAgICAgICAgICAgICAgICAgIHZhciBhcyA9ICcnO1xuICAgICAgICAgICAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHJlc3VsdC5jYW5kaWRhdGVzO1xuICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgICAgICAgICAgICAgICAgJChcIi5wb3B1cC1jYW5kaWRhdGUtbGlzdFwiKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAkKFwiLnVwZGF0ZVwiKS5hZGRDbGFzcyhcInVwZGF0ZS1idG5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgYXMrPSAnPGxpPiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJwb3B1cC1jYW5kaWRhdGUtaXRlbVwiPiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9JytpdGVtLmxhc3RfbmFtZSsnPiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8bGFiZWwgZm9yPScraXRlbS5sYXN0X25hbWUrJz4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuPjwvc3Bhbj4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxpbWcgc3JjPVwiL2ltZy9mYWNlLmpwZ1wiIGFsdD1cIkNhbmRpZGF0ZSBuYW1lc1wiPiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInBvcHVwLWNhbmRpZGF0ZS1pbmZvXCI+ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxwPicraXRlbS5maXJzdF9uYW1lKycgJytpdGVtLmxhc3RfbmFtZSArJzwvcD4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9sYWJlbD4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9saT4nO1xuICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAkKFwiLnVwZGF0ZSB1bFwiKS5hcHBlbmQoYXMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgY2xpY2tzOiBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB2YXIgaXRlbSA9ICQoXCIucG9wdXAtY2FuZGlkYXRlLWl0ZW1cIikuZmluZChcImxhYmVsXCIpO1xuXG4gICAgICAgIGl0ZW0ub24oXCJjbGlja1wiLGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGNoZWNrID0gJCh0aGlzKS5zaWJsaW5ncygnaW5wdXQnKTtcbiAgICAgICAgICAgIGNoZWNrLmF0dHIoJ2NoZWNrZWQnLGNoZWNrLmlzKCc6Y2hlY2tlZCcpKTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIGluaXQ6IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICAkKFwiI2NyZWF0ZS1uZXctbWVzc2FnZVwiKS5vbihcImNsaWNrXCIsIHRoaXMuY3JlYXRlKTtcbiAgICAgICAgJChcIi5zZW5kLWJ0blwiKS5vbihcImNsaWNrXCIsdGhpcy5zZW5kQ2FuZGlkYXRlKTtcbiAgICAgICAgJChcIi5kZWxldGUtYnRuXCIpLm9uKCdjbGljaycsIHRoaXMuV2VsY29tZU1lc3NhZ2VzKTtcblxuICAgICAgICAkKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3QyID0gJCgnI3NvcnRDYW5kaWRhdGUnKS5zZWxlY3QyKHtcbiAgICAgICAgICAgICAgICB0YWdzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnVHlwZXMgdmFjYW5jeSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2VsZWN0Mi5kYXRhKCdzZWxlY3QyJykuJGNvbnRhaW5lci5hZGRDbGFzcygnc29ydF9jYW5kaWRhdGUnKTtcbiAgICAgICAgICAgIHNlbGVjdDIuZGF0YSgnc2VsZWN0MicpLiRkcm9wZG93bi5hZGRDbGFzcygnc29ydF9jYW5kaWRhdGUtLW9wZW4nKTtcbiAgICAgICAgfSk7XG5cbiAgICB9LFxuXG4gICAgV2VsY29tZU1lc3NhZ2VzOiBmdW5jdGlvbiAoZXZlbnQpe1xuXG4gICAgICAgIFdlbGNvbWVNZXNzYWdlTWFuYWdlci5XZWxjb21lTWVzc2FnZShldmVudCk7XG4gICAgfSxcblxuICAgIHNlbmRDYW5kaWRhdGU6IGZ1bmN0aW9uKGV2ZW50KVxuICAgIHtcbiAgICAgICAgV2VsY29tZU1lc3NhZ2VNYW5hZ2VyLnNlbmRDYW5kaWRhdGVzKGV2ZW50KTtcbiAgICAgICAgV2VsY29tZU1lc3NhZ2VNYW5hZ2VyLnBvcHVwKCk7XG4gICAgICAgIFdlbGNvbWVNZXNzYWdlTWFuYWdlci5jbGlja3MoKTtcbiAgICAgICAgV2VsY29tZU1lc3NhZ2VNYW5hZ2VyLnNlYXJjaCgpO1xuICAgIH1cblxuXG5cbn07Il19
